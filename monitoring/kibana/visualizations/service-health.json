{
  "_id": "SERVICE_HEALTH",
  "_type": "visualization",
  "_source": {
    "title": "Service Health",
    "type": "data_table",
    "params": {
      "perPage": 10,
      "showPartialRows": false,
      "showMetricsAtAllLevels": false,
      "sort": {
        "columnIndex": null,
        "direction": null
      },
      "showTotal": false,
      "totalFunc": "sum",
      "percentageCol": ""
    },
    "aggs": [
      {
        "id": "1",
        "enabled": true,
        "type": "count",
        "schema": "metric",
        "params": {
          "customLabel": "Total Logs"
        }
      },
      {
        "id": "2",
        "enabled": true,
        "type": "avg",
        "schema": "metric",
        "params": {
          "field": "duration_ms",
          "customLabel": "Avg Response Time"
        }
      },
      {
        "id": "3",
        "enabled": true,
        "type": "max",
        "schema": "metric",
        "params": {
          "field": "memory_usage_percent",
          "customLabel": "Max Memory %"
        }
      },
      {
        "id": "4",
        "enabled": true,
        "type": "max",
        "schema": "metric",
        "params": {
          "field": "cpu_usage_percent",
          "customLabel": "Max CPU %"
        }
      },
      {
        "id": "5",
        "enabled": true,
        "type": "terms",
        "schema": "bucket",
        "params": {
          "field": "service_name",
          "size": 10,
          "order": "desc",
          "orderBy": "1",
          "customLabel": "Service Name"
        }
      },
      {
        "id": "6",
        "enabled": true,
        "type": "terms",
        "schema": "bucket",
        "params": {
          "field": "log_level",
          "size": 5,
          "order": "desc",
          "orderBy": "1",
          "customLabel": "Log Level"
        }
      }
    ],
    "listeners": {}
  }
}